---
import { languages } from '../i18n/ui';
import type { Lang } from '../i18n/ui';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
---

<nav class="language-picker">
  {Object.entries(languages).map(([code, label]) => (
    <a
      href={`/${code}/`}
      class:list={['lang-link', { active: code === lang }]}
      aria-current={code === lang ? 'page' : undefined}
    >
      {code.toUpperCase()}
    </a>
  ))}
</nav>

<style>
  .language-picker {
    display: flex;
    gap: 0.25rem;
    background: rgba(255, 255, 255, 0.05);
    padding: 0.25rem;
    border-radius: 0.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .lang-link {
    padding: 0.375rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 500;
    color: #a3a3a3;
    text-decoration: none;
    border-radius: 0.375rem;
    transition: all 0.2s ease;
    letter-spacing: 0.05em;
  }

  .lang-link:hover {
    color: #f5f5f5;
    background: rgba(255, 255, 255, 0.05);
  }

  .lang-link.active {
    color: #0a0a0a;
    background: #4ade80;
  }

  .lang-link.active:hover {
    background: #22c55e;
  }
</style>
